<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >
<head>
<title>Programming Reference:3D API - BCI2000 Help</title>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Programming Reference:3D API,User Reference:CursorTask" />
<link rel="shortcut icon" href="../../favicon.ico" />
<link rel='stylesheet' type='text/css' media='print' href='../skins/common/wikiprintable.css' />
<link rel="stylesheet" href="../skins/common/wikistandard.css@1" type="text/css" />
<link rel="stylesheet" href="../skins/common/common.css" type="text/css" />
<link rel="stylesheet" href="../skins/common/htmlhelp.css" type="text/css" />

<style type='text/css'>
a.new, #quickbar a.new { color: #CC2200; }
.editsection { display: none; }
#quickbar { position: absolute; top: 4px; left: 4px;  }
#article { margin-left: 152px; margin-right: 4px; }
</style>
</head>

<body bgcolor='#FFFFFF'>

<div id='content'>
<div id='topbar'>
<table border='0' cellspacing='0' width='98%'>
<tr>
</tr>
</table>
</div>

<div id='article'>
<h1 class="pagetitle">3D API</h1><p class="subtitle">Programming Reference</p><hr class="sep" /><table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="Programming_Reference%253A3D_API.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class='toclevel-1'><a href="Programming_Reference%253A3D_API.html#The_3D_Environment"><span class="tocnumber">2</span> <span class="toctext">The 3D Environment</span></a>
<ul>
<li class='toclevel-2'><a href="Programming_Reference%253A3D_API.html#Predefined_Graphic_Primitives"><span class="tocnumber">2.1</span> <span class="toctext">Predefined Graphic Primitives</span></a></li>
<li class='toclevel-2'><a href="Programming_Reference%253A3D_API.html#Custom_Graphic_Primitives"><span class="tocnumber">2.2</span> <span class="toctext">Custom Graphic Primitives</span></a></li>
<li class='toclevel-2'><a href="Programming_Reference%253A3D_API.html#3D_Text"><span class="tocnumber">2.3</span> <span class="toctext">3D Text</span></a></li>
<li class='toclevel-2'><a href="Programming_Reference%253A3D_API.html#Camera"><span class="tocnumber">2.4</span> <span class="toctext">Camera</span></a></li>
<li class='toclevel-2'><a href="Programming_Reference%253A3D_API.html#Light_Source"><span class="tocnumber">2.5</span> <span class="toctext">Light Source</span></a></li>
<li class='toclevel-2'><a href="Programming_Reference%253A3D_API.html#The_2D_Overlay"><span class="tocnumber">2.6</span> <span class="toctext">The 2D Overlay</span></a>
<ul>
<li class='toclevel-3'><a href="Programming_Reference%253A3D_API.html#Overlay_Picture"><span class="tocnumber">2.6.1</span> <span class="toctext">Overlay Picture</span></a></li>
<li class='toclevel-3'><a href="Programming_Reference%253A3D_API.html#2D_Text"><span class="tocnumber">2.6.2</span> <span class="toctext">2D Text</span></a></li>
<li class='toclevel-3'><a href="Programming_Reference%253A3D_API.html#2D_Cursor"><span class="tocnumber">2.6.3</span> <span class="toctext">2D Cursor</span></a></li>
</ul>
</li>
</ul>
</li>
<li class='toclevel-1'><a href="Programming_Reference%253A3D_API.html#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></table>
<a name="Introduction"></a><h2>Introduction</h2>
<p>The 3D API uses OpenGL to display 3-dimensional objects in a scene.
Additionally, a 2D overlay may be displayed on top of the scene.
The API was originally created by Shidong Zheng.
3D API source files are located at <tt>src/extlib/3DAPI</tt>.
</p><p>The <a href="User_Reference%253ACursorTask.html" title="User Reference:CursorTask">CursorTask</a> uses the 3D API to display its workspace, cursor, and targets.
</p><p><a href="../images/thumb/4/43/3DEnvironment.png/512px-3DEnvironment.png" class="image" title="Graphical Environment"><img src="../images/thumb/4/43/3DEnvironment.png/512px-3DEnvironment.png" alt="Graphical Environment" width="512" height="493" longdesc="/wiki/index.php/Image:3DEnvironment.png" /></a>
</p>
<a name="The_3D_Environment"></a><h2>The 3D Environment</h2>
<a name="Predefined_Graphic_Primitives"></a><h3>Predefined Graphic Primitives</h3>
<p>The 3D environment supports any number of predefined graphic primitives. 
Each graphic primitive can be assigned a number of different properties. 
These are:
</p>
<ul><li>Primitive-specific properties
</li><li>Generic properties
<ul><li>Brightness (0-255)
</li><li>Transparency (0-255)
</li><li>Color (RGB)
</li><li>Texture
</li></ul>
</li></ul>
<p>Currently implemented primitives are spheres, cuboids,
and infinite planes. 
The position of a sphere is defined by midpoint (XYZ) and radius. Textures are mapped using
circular mapping using arbitrary alignment. The position of a cuboid is defined
by a midpoint (XYZ) and a width, height, and depth (to define the extent in 
X, Y, and Z, respectively). Texture mapping is defined by the orientation and
size of a texture. The only supported mapping type is parallel mapping.
Infinite planes are defined by a point in XYZ coordinates, and a normal vector. 
The only supported texture mapping type is parallel mapping with the texture being parallel to the plane.
</p><p>Once created, there are certain functions that can be applied to any element.
</p>
<ul><li>Change properties
</li><li>Turn visibility on/off
</li><li>Move midpoint to XYZ
</li><li>Test for collision with another element
</li><li>Rotate element with rotation defined by
<ul><li>Angles in X, Y, Z
</li><li>Reference point in X, Y, Z
</li></ul>
</li></ul>
<a name="Custom_Graphic_Primitives"></a><h3>Custom Graphic Primitives</h3>
<p>In addition to built-in primitives, the system also supports custom graphic 
primitives. These primitives can be defined by loading their 3D structure from a 
file and they support the same methods as the predefined primitives except 
collision detection.
</p>
<a name="3D_Text"></a><h3>3D Text</h3>
<p>The system supports any number of 3D text elements. Each text element
is defined by
</p>
<ul><li>Font
</li><li>Font size
</li><li>Caption
</li><li>Brightness (0-255)
</li><li>Transparency (0-255)
</li><li>Color (RGB)
</li><li>Origin (XYZ)
</li><li>Direction (XYZ)
</li></ul>
<p>The text elements support methods to modify their properties and to turn
them on or off.
</p><p><br />
</p>
<a name="Camera"></a><h3>Camera</h3>
<p>The 3D environment supports one camera with the following properties:
</p>
<ul><li>Camera View Point (XYZ)
</li><li>Aim Point (XYZ)
</li><li>Focal Length
</li><li>Camera Orientation (what is "up" for the camera) (angle)
</li></ul>
<p><br />
</p>
<a name="Light_Source"></a><h3>Light Source</h3>
<p>The 3D environment supports one omni-directional light source. The features that 
describe this light source are:
</p>
<ul><li>Position (XYZ)
</li><li>Brightness (0-255)
</li><li>Color (RGB)
</li></ul>
<p>In addition, the brightness of white ambient background lighting can be defined.
</p><p><br />
</p>
<a name="The_2D_Overlay"></a><h3>The 2D Overlay</h3>
<p>The 3D display can be overlayed by a 2D display (see figure above). 
This overlay supports a picture with alpha channel (i.e., 
transparency map), 2D text and a 2D cursor.
</p>
<a name="Overlay_Picture"></a><h4>Overlay Picture</h4>
<p>An overlay picture can be defined by loading it from disc. This picture is 
stretched to match the window size. Optionally, a transparency map can be 
defined (i.e., in essence, another picture) whose brightness level defines the s
transparency of the overlay. This can create an effect as shown in the figure.
Once defined, an overlay image can be turned on or off.
</p>
<a name="2D_Text"></a><h4>2D Text</h4>
<p>The system supports any number of 2D text elements. Text elements are always 
displayed on top of the overlay picture. The texts' background is transparent 
and the text itself does not destroy the overlay picture. For each 2D text 
element, the following properties can be defined:
</p>
<ul><li>Position (XY)
</li><li>Font
</li><li>Size
</li><li>Color (RGB)
</li></ul>
<a name="2D_Cursor"></a><h4>2D Cursor</h4>
<p>The system supports one 2D cursor that is always presented as a circle
that is filled with a particular color. Specifically, a 2D cursor has
the following properties:
</p>
<ul><li>Position (XY)
</li><li>Size
</li><li>Color (RGB)
</li></ul>
<a name="See_also"></a><h2>See also</h2>
<p><a href="User_Reference%253ACursorTask.html" title="User Reference:CursorTask">User Reference:CursorTask</a>
</p>
<div class="printfooter">
</div>

</div><br style="clear:both" />

<div id='footer'><table border="0" cellspacing="0"><tr><td width='152' rowspan='1'>&nbsp;</td><td class='bottom' align='left' valign='top'></td></tr></table>
</div>
</div>

<div id='quickbar'>
<table class="image"><caption align="bottom"><h2>BCI2000 Help</h2></caption><tr><td><a href="BCI2000_Help.html"><img src='../../images/bci2000logo_small.png' height=100 width=100 alt='[BCI2000 Help]' /></a></td></tr></table>
<hr class='sep' /><a href="User_Tutorial%253ABCI2000_Tour.html">Getting Started</a><br />
<a href="User_Reference%253AContents.html">User Manual</a><br />
<a href="Technical_Reference%253AContents.html">Technical Reference</a><br />
<a href="Programming_Reference%253AContents.html">Programming Manual</a><br />
<ul><li>Concepts</li>
<ul><li><a href="Programming_Reference%253AFilter_Chain.html">Filter Chain</a></li>
<li><a href="Programming_Reference%253ASignals.html">Signals</a></li>
<li><a href="Programming_Reference%253AError_Handling.html">Error Handling</a></li>
<li><a href="Programming_Reference%253ALocalization.html">Localization</a></li>
<li><a href="Programming_Reference%253ARapid_Development.html">Rapid Development</a></li>
</ul><li>Reference</li>
<ul><li><a href="Programming_Reference%253AGenericFilter_Class.html">GenericFilter</a></li>
<li><a href="Programming_Reference%253AEnvironment_Class.html">Environment</a></li>
<li><a href="Programming_Reference%253AGenericVisualization_Class.html">GenericVisuali-zation</a></li>
<li><a href="Programming_Reference%253AErrors_and_Warnings.html">Errors and Warnings</a></li>
<li><a href="Programming_Reference%253ADebug_Output.html">Debug Output</a></li>
</ul><li>Data Acquisition</li>
<ul><li><a href="Programming_Reference%253AGenericADC_Class.html">GenericADC</a></li>
</ul><li>Data Storage</li>
<ul><li><a href="Programming_Reference%253AGenericFileWriter_Class.html">GenericFileWriter</a></li>
<li><a href="Programming_Reference%253ABCI2000FileReader_Class.html">BCI2000FileReader</a></li>
</ul><li>Signal Processing</li>
<ul><li><a href="Programming_Reference%253AIIRFilter_Class.html">IIR Filters</a></li>
</ul><li>Application Modules</li>
<ul><li><a href="Programming_Reference%253AApplicationBase_Class.html">ApplicationBase</a></li>
<li><a href="Programming_Reference%253AFeedbackTask_Class.html">FeedbackTask</a></li>
<li><a href="Programming_Reference%253AStimulusTask_Class.html">StimulusTask</a></li>
<li>3D API</li>
</ul><li>Howtos</li>
<li><a href="Programming_FAQ.html">FAQ</a></li>
<li>Tutorials</li>
</ul><a href="Contributions%253AContents.html">Contributions</a><br />
<hr class='sep' />
<a href="BCI2000_Glossary.html">BCI2000 Glossary</a><br />
</div>

</body></html>